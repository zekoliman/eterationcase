import React from 'react';
import {View} from 'react-native';
import Svg, {Path} from 'react-native-svg';
import Badge from '../../components/BottomBadge';
import {useSelector} from 'react-redux';

const BasketSvg: React.FC = ({...props}) => {
  const cartItems = useSelector(state => state.cart.cartItems);

  return (
    <View>
      <Svg width="37" height="32" viewBox="0 0 37 32" fill="none" {...props}>
        <Path
          d="M2.98356 11.5061C2.54218 11.5057 2.1185 11.6797 1.80486 11.9903C1.49123 12.3008 1.31304 12.7228 1.30914 13.1641C1.30735 13.3171 1.32951 13.4694 1.37481 13.6156L5.61831 28.5786C5.81499 29.2776 6.23531 29.8928 6.81493 30.3301C7.39455 30.7674 8.10153 31.0027 8.82761 31H27.9357C28.6631 31.0006 29.3711 30.7648 29.9529 30.3281C30.5347 29.8913 30.9589 29.2774 31.1614 28.5786L35.4049 13.6156L35.4541 13.1641C35.4502 12.7228 35.272 12.3008 34.9584 11.9903C34.6448 11.6797 34.2211 11.5057 33.7797 11.5061H2.98356ZM18.8511 24.6446C18.1689 24.6412 17.503 24.4358 16.9374 24.0543C16.3718 23.6728 15.9319 23.1323 15.6732 22.501C15.4145 21.8698 15.3486 21.176 15.4838 20.5073C15.6189 19.8386 15.9492 19.225 16.4328 18.7438C16.9164 18.2626 17.5317 17.9354 18.201 17.8036C18.8704 17.6717 19.5638 17.7411 20.1937 18.0029C20.8237 18.2648 21.362 18.7074 21.7407 19.2749C22.1193 19.8423 22.3214 20.5093 22.3214 21.1915C22.3171 22.109 21.9495 22.9873 21.2992 23.6345C20.6488 24.2816 19.7686 24.6448 18.8511 24.6446V24.6446Z"
          stroke="black"
          stroke-width="2"
          stroke-linejoin="round"
        />
        <Path
          d="M10.502 11.5061L18.3816 1L26.2612 11.5061"
          stroke="black"
          stroke-width="2"
          stroke-linejoin="round"
        />
      </Svg>
      <Badge count={cartItems.length} />
    </View>
  );
};

export default BasketSvg;
